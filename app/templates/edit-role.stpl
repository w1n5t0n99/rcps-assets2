
<html lang="en">
<style>
  body {
    padding-top: 105px;
  }
</style>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
<script>
   $(document).ready(function () {
    $('.fixed-rows').find('.form-check-input').change(function() {
	  var checkbox = $(this);
	  checkbox.prop( "checked", true );
    });
  });
</script>

<head>
  <title>Role Configuration</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
</head>

<body>
  <% include!("title-bar.stpl"); %>
  <% include!("nav-bar.stpl"); %>
  <div class="container-fluid mt-3">
    <form id="role_form" method="post" action="/account/roles/<%= name %>/edit">
    <div class="container-sm">
      <div class="row">
        <div class="col-sm-1 p-3"></div>
        <div class="col-sm-2 p-3"><h5><%= name %></h5></div>
        <input type="hidden" name="name" value="<%= name %>" autocomplete="off" />
        <div class="col-sm-4 p-3"><input type="text" class="form-control" placeholder="Description" value="<%= description %>" name="description" autocomplete="off"></div>
      </div>
    </div>
    <% if perms.contains("user_view") { %>
      <div class="fixed-rows">
        <div class="container-sm border">
            <div class="row">
              <div class="col-sm-1 p-3"></div>
              <div class="col-sm-1 p-3">Users:</div>
              <div class="col-sm-1 p-3"></div>
              <div class="col-sm-1 p-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">View</label>
                </div>
              </div>
              <div class="col-sm-1 p-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">Add</label>
                </div>
              </div>
              <div class="col-sm-1 p-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">Edit</label>
                </div>
              </div>
              <div class="col-sm-1 p-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">Delete</label>
                </div>
              </div>
            </div>
          </div>
        </div>
    <% } %> 

    <% if perms.contains("roles_view") { %>
      <div class="fixed-rows">
        <div class="container-sm border mt-3">
            <div class="row">
              <div class="col-sm-1 p-3"></div>
              <div class="col-sm-1 p-3">Roles:</div>
              <div class="col-sm-1 p-3"></div>
              <div class="col-sm-1 p-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">View</label>
                </div>
              </div>
              <div class="col-sm-1 p-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">Add</label>
                </div>
              </div>
              <div class="col-sm-1 p-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">Edit</label>
                </div>
              </div>
              <div class="col-sm-1 p-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" checked>
                  <label class="form-check-label">Delete</label>
                </div>
              </div>
            </div>
          </div>
        </div>
    <% } %> 

    <div class="container-sm border mt-3">
      <div class="row">
        <div class="col-sm-1 p-3"></div>
        <div class="col-sm-1 p-3">Items:</div>
        <div class="col-sm-1 p-3"></div>
        <div class="col-sm-1 p-3">
          <div class="form-check">
            <% if perms.contains("item_view") { %>
                <input class="form-check-input" type="checkbox" name="perm0" value="item_view" checked>
            <% } else { %> 
                <input class="form-check-input" type="checkbox" name="perm0" value="item_view">
            <% } %> 
            <label class="form-check-label">View</label>
          </div>
        </div>
        <div class="col-sm-1 p-3">
          <div class="form-check">
            <% if perms.contains("item_create") { %>
                <input class="form-check-input" type="checkbox" name="perm1" value="item_create" checked>
            <% } else { %> 
                <input class="form-check-input" type="checkbox" name="perm1" value="item_create">
            <% } %> 
            <label class="form-check-label">Add</label>
          </div>
        </div>
        <div class="col-sm-1 p-3">
          <div class="form-check">
            <% if perms.contains("item_edit") { %>
                <input class="form-check-input" type="checkbox" name="perm2" value="item_edit" checked>
            <% } else { %> 
                <input class="form-check-input" type="checkbox" name="perm2" value="item_edit">
            <% } %> 
            <label class="form-check-label">Edit</label>
          </div>
        </div>
        <div class="col-sm-1 p-3">
          <div class="form-check">
            <% if perms.contains("item_delete") { %>
                <input class="form-check-input" type="checkbox" name="perm3" value="item_delete" checked>
            <% } else { %> 
                <input class="form-check-input" type="checkbox" name="perm3" value="item_delete">
            <% } %> 
            <label class="form-check-label">Delete</label>
          </div>
        </div>
      </div>
    </div>

    <div class="container-sm border mt-3">
      <div class="row">
        <div class="col-sm-1 p-3"></div>
        <div class="col-sm-1 p-3">Assignments:</div>
        <div class="col-sm-1 p-3"></div>

        <div class="col-sm-2 p-3">
          <div class="form-check">
            <% if perms.contains("item_assign_user") { %>
                <input class="form-check-input" type="checkbox" name="perm4" value="item_assign_user" checked>
            <% } else { %> 
                <input class="form-check-input" type="checkbox" name="perm4" value="item_assign_user">
            <% } %> 
            <label class="form-check-label">Assign User</label>
          </div>
        </div>

        <div class="col-sm-2 p-3">
          <div class="form-check">
            <% if perms.contains("item_assign_location") { %>
                <input class="form-check-input" type="checkbox" name="perm5" value="item_assign_location" checked>
            <% } else { %> 
                <input class="form-check-input" type="checkbox" name="perm5" value="item_assign_location">
            <% } %> 
            <label class="form-check-label">Assign Location</label>
          </div>
        </div>
      </div>
    </div>

    <div class="container-sm border mt-3">
      <div class="row">
        <div class="col-sm-1 p-3"></div>
        <div class="col-sm-1 p-3">Profile:</div>
        <div class="col-sm-1 p-3"></div>

        <div class="col-sm-2 p-3">
          <div class="form-check">
            <% if perms.contains("profile_view") { %>
                <input class="form-check-input" type="checkbox" name="perm6" value="profile_view" checked>
            <% } else { %> 
                <input class="form-check-input" type="checkbox" name="perm6" value="profile_view">
            <% } %> 
            <label class="form-check-label">View</label>
          </div>
        </div>

        <div class="col-sm-2 p-3">
          <div class="form-check">
            <% if perms.contains("pofile_edit") { %>
                <input class="form-check-input" type="checkbox" name="perm7" value="pofile_edit" checked>
            <% } else { %> 
                <input class="form-check-input" type="checkbox" name="perm7" value="pofile_edit">
            <% } %> 
            <label class="form-check-label">Edit</label>
          </div>
        </div>

      </div>
    </div>

    <div class="container-sm p-3">
      <div class="row justify-content-center">
        <% if name.eq("admin") == false && name.eq("inactive") == false { %>
            <div class="col-sm-12 p-3"><button type="submit" class="btn btn-primary">Save</button></div>
        <% } %> 
    </div>
  </form>
  </div>

</body>
</html>